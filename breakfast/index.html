<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ³ ä»Šæ—¥æ—©é¤æ¨è</title>

<style>
/* ========== åŸºç¡€æ ·å¼ ========== */
body{
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",Arial;
    background:#f7f7f7;
    margin:0;
    padding:16px;
    color:#222;
    transition:background 0.3s, color 0.3s;
}

h1{
    font-size:28px;
    margin-bottom:10px;
    text-align:center;
}

.subtitle{
    color:#666;
    margin-bottom:20px;
    text-align:center;
}

/* ========== é¡¶éƒ¨æŒ‰é’®åŒºåŸŸ ========== */
.top-bar{
    display:flex;
    justify-content:flex-end;
    align-items:center;
    gap:14px;
    margin-bottom:10px;
}

/* å›¾æ ‡æŒ‰é’® */
.icon-btn{
    background:#fff;
    border-radius:50%;
    width:38px;
    height:38px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:18px;
    cursor:pointer;
    box-shadow:0 4px 10px rgba(0,0,0,0.08);
    transition:transform 0.2s, box-shadow 0.2s;
}

.icon-btn:hover{
    transform:scale(1.1);
    box-shadow:0 6px 16px rgba(0,0,0,0.15);
}

/* ========== è¯­è¨€èœå• ========== */
#langMenu{
    position:absolute;
    right:16px;
    top:60px;
    background:#fff;
    border-radius:12px;
    box-shadow:0 6px 16px rgba(0,0,0,0.15);
    padding:10px 0;
    width:160px;
    display:none;
    z-index:10;
}

.lang-title{
    padding:10px 16px;
    font-size:13px;
    color:#666;
    border-bottom:1px solid #eee;
}

.lang-item{
    padding:10px 16px;
    font-size:15px;
    cursor:pointer;
    transition:background 0.2s;
}

.lang-item:hover{
    background:#f2f2f7;
}

/* ========== è¾“å…¥æ¡†ä¸æŒ‰é’® ========== */
label{
    display:block;
    margin:12px 0 6px;
    font-size:15px;
}

input,button{
    width:100%;
    padding:12px;
    font-size:17px;
    border-radius:12px;
    border:1px solid #ccc;
    background:#fff;
    box-sizing:border-box;
}

button{
    background:#007aff;
    color:#fff;
    border:none;
    margin-top:10px;
    cursor:pointer;
    transition:background 0.2s, transform 0.2s;
}

button:hover{
    background:#006be6;
    transform:translateY(-2px);
}

button.secondary{
    background:#e5e5ea;
    color:#000;
}

button.secondary:hover{
    background:#d5d5d8;
}

button.danger{
    background:#ff3b30;
}

button.danger:hover{
    background:#e02a25;
}

/* ========== å¡ç‰‡ï¼ˆApp Launcher é£æ ¼ï¼‰ ========== */
.card{
    background:#fff;
    border-radius:18px;
    padding:18px;
    margin:16px 0;
    box-shadow:0 6px 16px rgba(0,0,0,0.06);
    transition:transform 0.2s, box-shadow 0.2s;
}

.card:hover{
    transform:translateY(-4px);
    box-shadow:0 10px 24px rgba(0,0,0,0.12);
}

.item{
    margin:6px 0;
    font-size:16px;
}

.nutrition{
    font-size:14px;
    color:#555;
    margin-top:6px;
}

/* ========== å¯¼èˆªæ  ========== */
.nav{
    margin-bottom:16px;
    font-size:15px;
    text-align:center;
}

.nav a{
    text-decoration:none;
    color:#007aff;
}

/* ========== é¡µè„š ========== */
.footer{
    margin-top:40px;
    text-align:center;
    font-size:14px;
    color:#999;
    padding-bottom:20px;
}

/* ========== æ·±è‰²æ¨¡å¼ ========== */
.dark{
    background:#1c1c1e;
    color:#f2f2f7;
}

.dark input,
.dark button,
.dark .card{
    background:#2c2c2e;
    color:#f2f2f7;
    border-color:#3a3a3c;
}

.dark button.secondary{
    background:#3a3a3c;
    color:#fff;
}

.dark button.secondary:hover{
    background:#4a4a4c;
}

.dark button.danger{
    background:#ff453a;
}

.dark #langMenu{
    background:#2c2c2e;
    box-shadow:0 6px 16px rgba(0,0,0,0.5);
}

.dark .lang-title{
    color:#ccc;
    border-bottom:1px solid #444;
}

.dark .lang-item:hover{
    background:#3a3a3c;
}

.dark .icon-btn{
    background:#2c2c2e;
    color:#fff;
    box-shadow:0 4px 10px rgba(0,0,0,0.5);
}

.dark .footer{
    color:#aaa;
}
</style>
</head>

<body>

<!-- é¡¶éƒ¨æŒ‰é’®ï¼šğŸŒ è¯­è¨€åˆ‡æ¢ + ğŸŒ™ æ·±è‰²æ¨¡å¼ -->
<div class="top-bar">
  <div class="icon-btn" id="langBtn">ğŸŒ</div>

  <div id="langMenu">
    <div class="lang-title">ğŸŒ Language</div>
    <div class="lang-item" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</div>
    <div class="lang-item" data-lang="zh-HK">ğŸ‡­ğŸ‡° ç²¤è¯­ç¹é«”</div>
    <div class="lang-item" data-lang="en">ğŸ‡ºğŸ‡¸ English</div>
  </div>

  <div class="icon-btn" id="themeBtn">ğŸŒ™</div>
</div>

<!-- å¯¼èˆªæ  -->
<div class="nav">
  <a href="/">ğŸ  é¦–é¡µ</a> Â·
  <a href="/breakfast/">ğŸ³ æ—©é¤</a> Â·
  <a href="/play/">ğŸ—º æ¸¸ç©</a> Â·
  <a href="/fitness/">ğŸ’ª å¥èº«</a>
</div>

<h1 id="t_title">ğŸ³ ä»Šæ—¥æ—©é¤æ¨è</h1>
<div class="subtitle" id="t_subtitle">ç®€å• Â· æ¸…æ™° Â· ä¸çº ç»“</div>

<label id="t_name_label">ğŸ‘¤ å¤§å</label>
<input id="name" placeholder="è¯·è¾“å…¥ä½ çš„åå­—">

<label id="t_date_label">ğŸ“… é€‰æ‹©æ—¥æœŸ</label>
<input id="date" type="date">

<button onclick="generate()" id="t_btn_generate">ğŸ³ æ¨èæ—©é¤</button>

<div id="options"></div>
<div id="final"></div>
<div id="historyBox"></div>

<button class="secondary" onclick="showHistory()" id="t_btn_history">ğŸ“œ æŸ¥çœ‹å†å²</button>
<button class="danger" onclick="clearHistory()" id="t_btn_clear">ğŸ§¹ æ¸…é™¤å†å²</button>

<footer class="footer" id="t_footer">â€” Designed by BY â€”</footer>

<script>
/* ============================
   å¤šè¯­è¨€åŒ…ï¼ˆUI + é£Ÿç‰©åç§°ï¼‰
   ============================ */

const LANG = {
  "zh-CN": {
    title: "ğŸ³ ä»Šæ—¥æ—©é¤æ¨è",
    subtitle: "ç®€å• Â· æ¸…æ™° Â· ä¸çº ç»“",
    name_label: "ğŸ‘¤ å¤§å",
    name_placeholder: "è¯·è¾“å…¥ä½ çš„åå­—",
    date_label: "ğŸ“… é€‰æ‹©æ—¥æœŸ",
    btn_generate: "ğŸ³ æ¨èæ—©é¤",
    btn_history: "ğŸ“œ æŸ¥çœ‹å†å²",
    btn_clear: "ğŸ§¹ æ¸…é™¤å†å²",
    footer: "â€” Designed by BY â€”",
    history_empty: "æš‚æ— å†å²è®°å½•",
    today_breakfast: "âœ… ä»Šæ—¥æ—©é¤",
    option: "é€‰é¡¹",
    choose: "é€‰æ‹©è¿™ä¸ª",

    drinks: {
      "è±†æµ†": "è±†æµ†",
      "æ¸©ç‰›å¥¶": "æ¸©ç‰›å¥¶",
      "ç‡•éº¦å¥¶": "ç‡•éº¦å¥¶",
      "é»‘å’–å•¡": "é»‘å’–å•¡",
      "ç»¿èŒ¶": "ç»¿èŒ¶",
      "æ¸©æ°´": "æ¸©æ°´"
    },
    staples: {
      "å…¨éº¦åå¸": "å…¨éº¦åå¸",
      "å°é¦’å¤´": "å°é¦’å¤´",
      "å³é£Ÿç‡•éº¦": "å³é£Ÿç‡•éº¦",
      "ç™½ç²¥ / å°ç±³ç²¥": "ç™½ç²¥ / å°ç±³ç²¥",
      "é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰": "é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰",
      "é¸¡è›‹ä¸‰æ˜æ²»": "é¸¡è›‹ä¸‰æ˜æ²»"
    },
    desserts: {
      "æ°´æœ": "æ°´æœ",
      "åŸå‘³é…¸å¥¶": "åŸå‘³é…¸å¥¶",
      "åšæœä¸€å°æŠŠ": "åšæœä¸€å°æŠŠ",
      "çº¢è±† / ç»¿è±†": "çº¢è±† / ç»¿è±†",
      "ç‰ç±³ / çº¢è–¯": "ç‰ç±³ / çº¢è–¯",
      "ä¸åƒç”œç‚¹": "ä¸åƒç”œç‚¹"
    }
  },

  "zh-HK": {
    title: "ğŸ³ ä»Šæ—¥æ—©é¤æ¨è–¦",
    subtitle: "ç°¡å–® Â· æ¸…æ™° Â· å””ç³¾çµ",
    name_label: "ğŸ‘¤ å¤§å",
    name_placeholder: "è«‹è¼¸å…¥ä½ å˜…åå­—",
    date_label: "ğŸ“… é¸æ“‡æ—¥æœŸ",
    btn_generate: "ğŸ³ æ¨è–¦æ—©é¤",
    btn_history: "ğŸ“œ æŸ¥çœ‹æ­·å²",
    btn_clear: "ğŸ§¹ æ¸…é™¤æ­·å²",
    footer: "â€” Designed by BY â€”",
    history_empty: "æš«ç„¡æ­·å²è¨˜éŒ„",
    today_breakfast: "âœ… ä»Šæ—¥æ—©é¤",
    option: "é¸é …",
    choose: "æ€å‘¢å€‹",

    drinks: {
      "è±†æµ†": "è±†æ¼¿",
      "æ¸©ç‰›å¥¶": "æš–ç‰›å¥¶",
      "ç‡•éº¦å¥¶": "ç‡•éº¥å¥¶",
      "é»‘å’–å•¡": "é»‘å’–å•¡",
      "ç»¿èŒ¶": "ç¶ èŒ¶",
      "æ¸©æ°´": "æš–æ°´"
    },
    staples: {
      "å…¨éº¦åå¸": "å…¨éº¥å¤šå£«",
      "å°é¦’å¤´": "å°é¥…é ­",
      "å³é£Ÿç‡•éº¦": "å³é£Ÿç‡•éº¥",
      "ç™½ç²¥ / å°ç±³ç²¥": "ç™½ç²¥ / å°ç±³ç²¥",
      "é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰": "é›è›‹ï¼ˆç…®/è’¸ï¼‰",
      "é¸¡è›‹ä¸‰æ˜æ²»": "é›è›‹ä¸‰æ–‡æ²»"
    },
    desserts: {
      "æ°´æœ": "ç”Ÿæœ",
      "åŸå‘³é…¸å¥¶": "åŸå‘³ä¹³é…ª",
      "åšæœä¸€å°æŠŠ": "å …æœä¸€å°æ’®",
      "çº¢è±† / ç»¿è±†": "ç´…è±† / ç¶ è±†",
      "ç‰ç±³ / çº¢è–¯": "ç²Ÿç±³ / ç•ªè–¯",
      "ä¸åƒç”œç‚¹": "å””é£Ÿç”œå“"
    }
  },

  "en": {
    title: "ğŸ³ Today's Breakfast",
    subtitle: "Simple Â· Clear Â· No Overthinking",
    name_label: "ğŸ‘¤ Name",
    name_placeholder: "Enter your name",
    date_label: "ğŸ“… Select Date",
    btn_generate: "ğŸ³ Generate Breakfast",
    btn_history: "ğŸ“œ View History",
    btn_clear: "ğŸ§¹ Clear History",
    footer: "â€” Designed by BY â€”",
    history_empty: "No history yet",
    today_breakfast: "âœ… Today's Breakfast",
    option: "Option",
    choose: "Choose this",

    drinks: {
      "è±†æµ†": "Soy Milk",
      "æ¸©ç‰›å¥¶": "Warm Milk",
      "ç‡•éº¦å¥¶": "Oat Milk",
      "é»‘å’–å•¡": "Black Coffee",
      "ç»¿èŒ¶": "Green Tea",
      "æ¸©æ°´": "Warm Water"
    },
    staples: {
      "å…¨éº¦åå¸": "Whole Wheat Toast",
      "å°é¦’å¤´": "Steamed Bun",
      "å³é£Ÿç‡•éº¦": "Instant Oatmeal",
      "ç™½ç²¥ / å°ç±³ç²¥": "Rice Porridge / Millet Porridge",
      "é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰": "Egg (Boiled/Steamed)",
      "é¸¡è›‹ä¸‰æ˜æ²»": "Egg Sandwich"
    },
    desserts: {
      "æ°´æœ": "Fruit",
      "åŸå‘³é…¸å¥¶": "Plain Yogurt",
      "åšæœä¸€å°æŠŠ": "A Handful of Nuts",
      "çº¢è±† / ç»¿è±†": "Red Bean / Mung Bean",
      "ç‰ç±³ / çº¢è–¯": "Corn / Sweet Potato",
      "ä¸åƒç”œç‚¹": "No Dessert"
    }
  }
};

/* ============================
   æ·±è‰²æ¨¡å¼
   ============================ */

let dark = localStorage.getItem("darkMode") === "true";

function applyTheme(){
  if(dark){
    document.body.classList.add("dark");
    document.getElementById("themeBtn").innerText = "â˜€ï¸";
  }else{
    document.body.classList.remove("dark");
    document.getElementById("themeBtn").innerText = "ğŸŒ™";
  }
}
applyTheme();

document.getElementById("themeBtn").onclick = () => {
  dark = !dark;
  localStorage.setItem("darkMode", dark);
  applyTheme();
};

/* ============================
   è¯­è¨€åˆ‡æ¢
   ============================ */

let currentLang = localStorage.getItem("lang") || "zh-CN";

function applyLang(){
  const t = LANG[currentLang];

  document.getElementById("t_title").innerText = t.title;
  document.getElementById("t_subtitle").innerText = t.subtitle;
  document.getElementById("t_name_label").innerText = t.name_label;
  document.getElementById("name").placeholder = t.name_placeholder;
  document.getElementById("t_date_label").innerText = t.date_label;
  document.getElementById("t_btn_generate").innerText = t.btn_generate;
  document.getElementById("t_btn_history").innerText = t.btn_history;
  document.getElementById("t_btn_clear").innerText = t.btn_clear;
  document.getElementById("t_footer").innerText = t.footer;
}
applyLang();

document.getElementById("langBtn").onclick = () => {
  const menu = document.getElementById("langMenu");
  menu.style.display = menu.style.display === "block" ? "none" : "block";
};

document.querySelectorAll(".lang-item").forEach(item => {
  item.onclick = () => {
    currentLang = item.dataset.lang;
    localStorage.setItem("lang", currentLang);
    document.getElementById("langMenu").style.display = "none";
    applyLang();
    renderHistory();
  };
});

document.addEventListener("click", (e) => {
  if (!e.target.closest("#langBtn") && !e.target.closest("#langMenu")) {
    document.getElementById("langMenu").style.display = "none";
  }
});

/* ============================
   æ—©é¤æ•°æ®ï¼ˆåŸå§‹ä¸­æ–‡ keyï¼‰
   ============================ */

const drinks = [
 {name:"è±†æµ†",k:80,p:7,c:8,f:3},
 {name:"æ¸©ç‰›å¥¶",k:120,p:8,c:12,f:5},
 {name:"ç‡•éº¦å¥¶",k:110,p:3,c:16,f:4},
 {name:"é»‘å’–å•¡",k:10,p:1,c:1,f:0},
 {name:"ç»¿èŒ¶",k:0,p:0,c:0,f:0},
 {name:"æ¸©æ°´",k:0,p:0,c:0,f:0}
];

const staples = [
 {name:"å…¨éº¦åå¸",k:160,p:6,c:28,f:2},
 {name:"å°é¦’å¤´",k:180,p:5,c:35,f:1},
 {name:"å³é£Ÿç‡•éº¦",k:150,p:5,c:27,f:3},
 {name:"ç™½ç²¥ / å°ç±³ç²¥",k:120,p:3,c:26,f:0},
 {name:"é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰",k:90,p:7,c:1,f:6},
 {name:"é¸¡è›‹ä¸‰æ˜æ²»",k:250,p:12,c:30,f:8}
];

const desserts = [
 {name:"æ°´æœ",k:80,p:1,c:20,f:0},
 {name:"åŸå‘³é…¸å¥¶",k:120,p:6,c:12,f:4},
 {name:"åšæœä¸€å°æŠŠ",k:100,p:3,c:4,f:8},
 {name:"çº¢è±† / ç»¿è±†",k:110,p:4,c:22,f:1},
 {name:"ç‰ç±³ / çº¢è–¯",k:130,p:2,c:30,f:0},
 {name:"ä¸åƒç”œç‚¹",k:0,p:0,c:0,f:0}
];

function rand(arr){return arr[Math.floor(Math.random()*arr.length)];}

function translateFood(name){
  const t = LANG[currentLang];
  return (
    t.drinks[name] ||
    t.staples[name] ||
    t.desserts[name] ||
    name
  );
}

function makeMeal(){
  const d = rand(drinks);
  const s = rand(staples);
  const de = rand(desserts);

  return {
    d, s, de,
    total:{
      kcal:d
