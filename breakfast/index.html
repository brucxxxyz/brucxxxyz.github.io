<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ³ ä»Šæ—¥æ—©é¤æ¨è</title>

<style>
body{
    font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",Arial;
    background:#f7f7f7;
    margin:0;
    padding:16px;
    color:#222;
}
h1{font-size:26px;margin-bottom:6px;}
.subtitle{color:#666;margin-bottom:16px;}
label{display:block;margin:8px 0 4px;}
input,button{
    width:100%;
    padding:12px;
    font-size:17px;
    border-radius:10px;
    border:1px solid #ccc;
    background:#fff;
}
button{
    background:#007aff;
    color:#fff;
    border:none;
    margin-top:10px;
}
button.secondary{background:#e5e5ea;color:#000;}
button.danger{background:#ff3b30;}
.card{
    background:#fff;
    border-radius:14px;
    padding:16px;
    margin:14px 0;
    box-shadow:0 2px 8px rgba(0,0,0,.05);
}
.item{margin:6px 0;font-size:16px;}
.nutrition{font-size:14px;color:#555;margin-top:6px;}
.nav{
    margin-bottom:16px;
    font-size:15px;
}
.nav a{text-decoration:none;color:#007aff;}
.footer{
    margin-top:40px;
    text-align:center;
    font-size:14px;
    color:#999;
    padding-bottom:20px;
}
</style>
</head>

<body>

<!-- ğŸŒ è¯­è¨€åˆ‡æ¢ -->
<div style="text-align:right; margin-bottom:10px;">
  <select id="langSwitcher" style="padding:6px; font-size:14px;">
    <option value="zh-CN">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</option>
    <option value="zh-HK">ğŸ‡­ğŸ‡° ç¹é«”ä¸­æ–‡</option>
    <option value="en">ğŸ‡ºğŸ‡¸ English</option>
  </select>
</div>

<div class="nav">
  <a href="/">ğŸ  é¦–é¡µ</a> Â·
  <a href="/breakfast/">ğŸ³ æ—©é¤</a> Â·
  <a href="/play/">ğŸ—º æ¸¸ç©</a> Â·
  <a href="/fitness/">ğŸ’ª å¥èº«</a>
</div>

<h1 id="t_title">ğŸ³ ä»Šæ—¥æ—©é¤æ¨è</h1>
<div class="subtitle" id="t_subtitle">ç®€å• Â· æ¸…æ™° Â· ä¸çº ç»“</div>

<label id="t_name_label">ğŸ‘¤ å¤§å</label>
<input id="name" placeholder="è¯·è¾“å…¥ä½ çš„åå­—">

<label id="t_date_label">ğŸ“… é€‰æ‹©æ—¥æœŸ</label>
<input id="date" type="date">

<button onclick="generate()" id="t_btn_generate">ğŸ³ æ¨èæ—©é¤</button>

<div id="options"></div>
<div id="final"></div>
<div id="historyBox"></div>

<button class="secondary" onclick="showHistory()" id="t_btn_history">ğŸ“œ æŸ¥çœ‹å†å²</button>
<button class="danger" onclick="clearHistory()" id="t_btn_clear">ğŸ§¹ æ¸…é™¤å†å²</button>

<script>
const LANG = {
  "zh-CN": {
    title: "ğŸ³ ä»Šæ—¥æ—©é¤æ¨è",
    subtitle: "ç®€å• Â· æ¸…æ™° Â· ä¸çº ç»“",
    name: "ğŸ‘¤ å¤§å",
    namePlaceholder: "è¯·è¾“å…¥ä½ çš„åå­—",
    date: "ğŸ“… é€‰æ‹©æ—¥æœŸ",
    btnGenerate: "ğŸ³ æ¨èæ—©é¤",
    btnHistory: "ğŸ“œ æŸ¥çœ‹å†å²",
    btnClear: "ğŸ§¹ æ¸…é™¤å†å²",
    option: "é€‰é¡¹",
    choose: "é€‰æ‹©è¿™ä¸ª",
    today: "âœ… ä»Šæ—¥æ—©é¤",
    noHistory: "æš‚æ— å†å²è®°å½•",
    confirmClear: "ç¡®å®šæ¸…é™¤æ‰€æœ‰æ—©é¤å†å²ï¼Ÿ"
  },

  "zh-HK": {
    title: "ğŸ³ ä»Šæ—¥æ—©é¤æ¨è–¦",
    subtitle: "ç°¡å–® Â· æ¸…æ™° Â· ä¸ç³¾çµ",
    name: "ğŸ‘¤ å¤§å",
    namePlaceholder: "è«‹è¼¸å…¥ä½ çš„åå­—",
    date: "ğŸ“… é¸æ“‡æ—¥æœŸ",
    btnGenerate: "ğŸ³ æ¨è–¦æ—©é¤",
    btnHistory: "ğŸ“œ æŸ¥çœ‹æ­·å²",
    btnClear: "ğŸ§¹ æ¸…é™¤æ­·å²",
    option: "é¸é …",
    choose: "é¸æ“‡é€™å€‹",
    today: "âœ… ä»Šæ—¥æ—©é¤",
    noHistory: "æš«ç„¡æ­·å²è¨˜éŒ„",
    confirmClear: "ç¢ºå®šæ¸…é™¤æ‰€æœ‰æ—©é¤æ­·å²ï¼Ÿ"
  },

  "en": {
    title: "ğŸ³ Today's Breakfast Recommendation",
    subtitle: "Simple Â· Clear Â· No Overthinking",
    name: "ğŸ‘¤ Name",
    namePlaceholder: "Enter your name",
    date: "ğŸ“… Select Date",
    btnGenerate: "ğŸ³ Generate Breakfast",
    btnHistory: "ğŸ“œ View History",
    btnClear: "ğŸ§¹ Clear History",
    option: "Option",
    choose: "Choose this",
    today: "âœ… Today's Breakfast",
    noHistory: "No history yet",
    confirmClear: "Are you sure to clear all breakfast history?"
  }
};
</script>

<script>
let currentLang = localStorage.getItem("lang") || "zh-CN";
document.getElementById("langSwitcher").value = currentLang;

document.getElementById("langSwitcher").addEventListener("change", function () {
  localStorage.setItem("lang", this.value);
  location.reload();
});

function applyLang() {
  const t = LANG[currentLang];

  document.title = t.title;
  document.getElementById("t_title").innerText = t.title;
  document.getElementById("t_subtitle").innerText = t.subtitle;

  document.getElementById("t_name_label").innerText = t.name;
  document.getElementById("name").placeholder = t.namePlaceholder;

  document.getElementById("t_date_label").innerText = t.date;

  document.getElementById("t_btn_generate").innerText = t.btnGenerate;
  document.getElementById("t_btn_history").innerText = t.btnHistory;
  document.getElementById("t_btn_clear").innerText = t.btnClear;

  window.L = t;
}

applyLang();
</script>

<script>
const drinks=[
 {name:{ "zh-CN":"è±†æµ†", "zh-HK":"è±†æ¼¿", "en":"Soy Milk" }, k:80,p:7,c:8,f:3},
 {name:{ "zh-CN":"æ¸©ç‰›å¥¶", "zh-HK":"æš–ç‰›å¥¶", "en":"Warm Milk" }, k:120,p:8,c:12,f:5},
 {name:{ "zh-CN":"ç‡•éº¦å¥¶", "zh-HK":"ç‡•éº¥å¥¶", "en":"Oat Milk" }, k:110,p:3,c:16,f:4},
 {name:{ "zh-CN":"é»‘å’–å•¡", "zh-HK":"é»‘å’–å•¡", "en":"Black Coffee" }, k:10,p:1,c:1,f:0},
 {name:{ "zh-CN":"ç»¿èŒ¶", "zh-HK":"ç¶ èŒ¶", "en":"Green Tea" }, k:0,p:0,c:0,f:0},
 {name:{ "zh-CN":"æ¸©æ°´", "zh-HK":"æš–æ°´", "en":"Warm Water" }, k:0,p:0,c:0,f:0}
];

const staples=[
 {name:{ "zh-CN":"å…¨éº¦åå¸", "zh-HK":"å…¨éº¥å¤šå£«", "en":"Whole Wheat Toast" }, k:160,p:6,c:28,f:2},
 {name:{ "zh-CN":"å°é¦’å¤´", "zh-HK":"å°é¥…é ­", "en":"Steamed Bun" }, k:180,p:5,c:35,f:1},
 {name:{ "zh-CN":"å³é£Ÿç‡•éº¦", "zh-HK":"å³é£Ÿç‡•éº¥", "en":"Instant Oatmeal" }, k:150,p:5,c:27,f:3},
 {name:{ "zh-CN":"ç™½ç²¥ / å°ç±³ç²¥", "zh-HK":"ç™½ç²¥ / å°ç±³ç²¥", "en":"Rice Porridge / Millet Porridge" }, k:120,p:3,c:26,f:0},
 {name:{ "zh-CN":"é¸¡è›‹ï¼ˆç…®/è’¸ï¼‰", "zh-HK":"é›è›‹ï¼ˆç…®/è’¸ï¼‰", "en":"Egg (Boiled/Steamed)" }, k:90,p:7,c:1,f:6},
 {name:{ "zh-CN":"é¸¡è›‹ä¸‰æ˜æ²»", "zh-HK":"é›è›‹ä¸‰æ–‡æ²»", "en":"Egg Sandwich" }, k:250,p:12,c:30,f:8}
];

const desserts=[
 {name:{ "zh-CN":"æ°´æœ", "zh-HK":"æ°´æœ", "en":"Fruit" }, k:80,p:1,c:20,f:0},
 {name:{ "zh-CN":"åŸå‘³é…¸å¥¶", "zh-HK":"åŸå‘³ä¹³é…ª", "en":"Plain Yogurt" }, k:120,p:6,c:12,f:4},
 {name:{ "zh-CN":"åšæœä¸€å°æŠŠ", "zh-HK":"å …æœä¸€å°æŠŠ", "en":"A Handful of Nuts" }, k:100,p:3,c:4,f:8},
 {name:{ "zh-CN":"çº¢è±† / ç»¿è±†", "zh-HK":"ç´…è±† / ç¶ è±†", "en":"Red Bean / Mung Bean" }, k:110,p:4,c:22,f:1},
 {name:{ "zh-CN":"ç‰ç±³ / çº¢è–¯", "zh-HK":"ç²Ÿç±³ / ç´…è–¯", "en":"Corn / Sweet Potato" }, k:130,p:2,c:30,f:0},
 {name:{ "zh-CN":"ä¸åƒç”œç‚¹", "zh-HK":"ä¸åƒç”œé»", "en":"No Dessert" }, k:0,p:0,c:0,f:0}
];

function rand(arr){return arr[Math.floor(Math.random()*arr.length)];}

function makeMeal(){
    const d=rand(drinks);
    const s=rand(staples);
    const de=rand(desserts);
    return{
        d,s,de,
        total:{
            kcal:d.k+s.k+de.k,
            p:d.p+s.p+de.p,
            c:d.c+s.c+de.c,
            f:d.f+s.f+de.f
        }
    };
}

function generate(){
    const name=document.getElementById("name").value.trim();
    if(!name){alert(L.namePlaceholder);return;}

    document.getElementById("options").innerHTML="â³ ...";
    document.getElementById("final").innerHTML="";
    document.getElementById("historyBox").innerHTML="";

    setTimeout(()=>{
        const box=document.getElementById("options");
        box.innerHTML="";
        for(let i=0;i<3;i++){
            const m=makeMeal();
            const div=document.createElement("div");
            div.className="card";
            div.innerHTML=`
                <strong>${L.option} ${i+1}</strong>
                <div class="item">ğŸ¥¤ ${m.d.name[currentLang]}</div>
                <div class="item">ğŸ ${m.s.name[currentLang]}</div>
                <div class="item">ğŸ® ${m.de.name[currentLang]}</div>
                <div class="nutrition">
                    ğŸ”¥ ${m.total.kcal} kcal Â·
                    ğŸ¥š ${m.total.p}g Â·
                    ğŸ ${m.total.c}g Â·
                    ğŸ§ˆ ${m.total.f}g
                </div>
                <button onclick='choose(${JSON.stringify(m)}, "${name}")'>${L.choose}</button>
            `;
            box.appendChild(div);
        }
    },800);
}

function choose(m,name){
    const h=JSON.parse(localStorage.getItem("breakfastHistory")||"[]");
    h.push({date:new Date().toLocaleDateString(),name,meal:m});
    localStorage.setItem("breakfastHistory",JSON.stringify(h));

    document.getElementById("options").innerHTML="";
    document.getElementById("final").innerHTML=`
        <div class="card">
            <strong>${L.today}</strong>
            <div class="item">ğŸ¥¤ ${m.d.name[currentLang]}</div>
            <div class="item">ğŸ ${m.s.name[currentLang]}</div>
            <div class="item">ğŸ® ${m.de.name[currentLang]}</div>
            <div class="nutrition">
                ğŸ”¥ ${m.total.kcal} kcal Â·
                ğŸ¥š ${m.total.p}g Â·
                ğŸ ${m.total.c}g Â·
                ğŸ§ˆ ${m.total.f}g
            </div>
        </div>
    `;
}

function showHistory(){
    const box=document.getElementById("historyBox");
    const h=JSON.parse(localStorage.getItem("breakfastHistory")||"[]");
    box.innerHTML="";
    if(!h.length){
        box.innerHTML=`<div class="card">${L.noHistory}</div>`;
        return;
    }
    h.forEach(x=>{
        box.innerHTML+=`
            <div class="card">
                <strong>${x.date} Â· ${x.name}</strong>
                <div class="item">ğŸ¥¤ ${x.meal.d.name[currentLang]}</div>
                <div class="item">ğŸ ${x.meal.s.name[currentLang]}</div>
                <div class="item">ğŸ® ${x.meal.de.name[currentLang]}</div>
                <div class="nutrition">ğŸ”¥ ${x.meal.total.kcal} kcal</div>
            </div>
        `;
    });
}

function clearHistory(){
    if(confirm(L.confirmClear)){
        localStorage.removeItem("breakfastHistory");
        document.getElementById("historyBox").innerHTML="";
    }
}

document.getElementById("date").value=new Date().toISOString().slice(0,10);
</script>

<footer class="footer">â€” Designed by BY â€”</footer>

</body>
</html>
